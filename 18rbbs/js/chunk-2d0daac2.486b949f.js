(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0daac2"],{"6d31":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"registerh"},[t("div",{staticClass:"universal contentBox"},[t("div",{staticClass:"content"},[t("div",{staticClass:"form"},[t("form",[t("div",{staticClass:"nickname inputBox"},[t("span",{staticClass:"inputBoxTips",class:{none:s.user.email&&s.user.email.length>0}},[s._v("邮箱")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.user.email,expression:"user.email"}],attrs:{type:"text",autocomplete:"off",value:""},domProps:{value:s.user.email},on:{input:function(e){e.target.composing||s.$set(s.user,"email",e.target.value)}}})]),t("div",{staticClass:"password inputBox"},[t("span",{staticClass:"inputBoxTips",class:{none:s.user.password1&&s.user.password1.length>0}},[s._v("密码(8-30位字母与数字组合)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.user.password1,expression:"user.password1"}],attrs:{type:"password",autocomplete:"new-password",value:""},domProps:{value:s.user.password1},on:{input:function(e){e.target.composing||s.$set(s.user,"password1",e.target.value)}}})]),t("div",{staticClass:"againPassword inputBox"},[t("span",{staticClass:"inputBoxTips",class:{none:s.user.password2&&s.user.password2.length>0}},[s._v("重新输入密码")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.user.password2,expression:"user.password2"}],attrs:{type:"password",autocomplete:"new-password",value:""},domProps:{value:s.user.password2},on:{input:function(e){e.target.composing||s.$set(s.user,"password2",e.target.value)}}})]),t("div",{staticClass:"nickname inputBox"},[t("span",{staticClass:"inputBoxTips",class:{none:s.user.username&&s.user.username.length>0}},[s._v("用户名")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.user.username,expression:"user.username"}],attrs:{type:"text",autocomplete:"off",value:""},domProps:{value:s.user.username},on:{input:function(e){e.target.composing||s.$set(s.user,"username",e.target.value)}}})]),t("div",{staticClass:"submit xxbtn mt-2"},[t("a",{staticClass:"btn btn-primary full-width",attrs:{disabled:s.submit_loading},on:{click:s.on_submit}},[s._v(s._s(s.$l("register")))])]),s._m(0)])])])])])},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("p",[s._v(" 已有账号 "),t("a",{attrs:{href:"/user/login"}},[s._v("立即登录")])])}],i=(t("ac1f"),t("5319"),t("4b13"),{name:"login",data:function(){return{submit_loading:!1,user:{}}},created:function(){if(window._t=this,this.$store.state.hasLogin)return this.$router.replace("/")},methods:{on_submit:function(){var s=this;if(!this.user.username||this.user.username.length<4)return this.$messageX("用户名过短,不少于4位",{theme:"error",position:"top-left",duration:5e3});if(!this.user.password1||this.user.password1.length<6)return this.$messageX("密码过短，不能少于6位",{theme:"error",position:"top-left",duration:5e3});if(this.user.password1!=this.user.password2)return this.$messageX("两次密码不相同",{theme:"error",position:"top-left",duration:5e3});if(this.user.email.length<3)return this.$messageX("请输入正确的邮箱",{theme:"error",position:"top-left",duration:5e3});this.submit_loading=!0;var e=this.user,t=this.get_from_source();return t&&(e["f"]=t),this.$axios.post("/app/user/register",e).then((function(e){s.submit_loading=!1;var t=e.data,a=t.user_info,r=t.token;s.$messageX("注册成功，正在跳转,如果没有跳转，你手动刷新页面。",{theme:"normal",position:"top-left",duration:5e3}),s.$store.commit("login",{userinfo:a,token:r}),s.$router.push("/")})).catch((function(e){s.submit_loading=!1,s.$message("出现错误，请刷新网页或者稍后再试",{theme:"error"})})),!1}}}),o=i,n=t("2877"),u=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0daac2.486b949f.js.map