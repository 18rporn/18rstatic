{"version":3,"sources":["webpack:///./src/components/user/login.vue?f010","webpack:///./src/components/user/login.vue","webpack:///./src/components/user/login.vue?569f","webpack:///./src/components/user/login.vue?263e","webpack:///./src/components/user/login.vue?99ef"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","model","value","user","callback","$$v","$set","expression","submit_loading","on","on_submit","_v","staticRenderFns","name","data","referrer","created","$store","state","hasLogin","$router","replace","window","_t","console","log","document","beforeRouteEnter","to","from","next","vm","path","methods","username","length","$message","theme","position","duration","password","post_data","$axios","post","then","response","loading","response_data","userinfo","token","commit","push","catch","error","component","options","components","Object","assign","create","QInput","VBtn"],"mappings":"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","file":"js/chunk-44599792.2f6b0bfe.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginh ActionArea-dti99u-0 fnpDiG\"},[_c('div',{staticClass:\"P-Login\"},[_vm._m(0),_c('div',{staticClass:\"Panel\"},[_vm._m(1),_c('form',{staticClass:\"AuthForm\"},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"Field\"},[_c('q-input',{attrs:{\"outlined\":\"\",\"label\":\"请输入用户名/邮箱\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1)]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"Field\"},[_c('q-input',{attrs:{\"type\":\"password\",\"outlined\":\"\",\"label\":\"请输入密码\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1)]),_c('div',{staticClass:\"form-group mt-2\"},[_c('div',{staticClass:\"SubmitField\"},[_c('v-btn',{staticClass:\"xyg w-100\",attrs:{\"loading\":_vm.submit_loading,\"color\":\"primary\"},on:{\"click\":_vm.on_submit}},[_vm._v(\"登录\")])],1)]),_vm._m(2),_vm._m(3)])])]),_c('div')])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Tip text-secondary\"},[_c('span',[_vm._v(\"男人的两大爱好，1.劝风尘女子从良，2.拉良家妇女下水\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"G-Title mb-3 mt-3\"},[_c('h3',[_vm._v(\"用户登录\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-3 text-center\"},[_vm._v(\"您还不是会员，\"),_c('span',{staticClass:\"text-primary G-CursorPointer\"},[_c('a',{attrs:{\"href\":\"/user/register\"}},[_vm._v(\"立即注册\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-3 text-center\"},[_vm._v(\"忘记密码？\"),_c('span',{staticClass:\"text-primary G-CursorPointer\"},[_vm._v(\"点此找回\")])])}]\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport '../../assets/css/user.css'\n\nexport default {\n  name: 'login',\n  data() {\n    return {\n      submit_loading: false,\n      user: {},\n      referrer: ''\n    }\n  },\n  created() {\n    if (this.$store.state.hasLogin) {\n      return this.$router.replace('/');\n    }\n    window._t = this;\n    console.log('document.referrer:', document.referrer);\n    console.log('this.$router', this.$router);\n    if (document.referrer) {\n      this.referrer = document.referrer;\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      vm.referrer = from.path\n      console.log(\"from:\", from);\n    })\n  },\n  methods: {\n    on_submit: function () {\n\n      if (!this.user.username || this.user.username.length < 4) {\n        return this.$message('用户名过短,不少于4位', {\n          theme: \"error\",\n          position: \"top-left\",\n          duration: 5000\n        });\n      }\n\n      if (!this.user.password || this.user.password.length <= 6) {\n        return this.$message('密码过短，不能少于6位', {\n          theme: \"error\",\n          position: \"top-left\",\n          duration: 5000\n        });\n      }\n\n      this.submit_loading = true;\n      var post_data = this.user\n      post_data.referrer = this.referrer;\n\n      this.$axios.post('/app/user/login', post_data).then((response) => {\n        this.loading = false;\n        var response_data = response.data;\n        console.log(\"response_data:\", response_data)\n\n        var userinfo = response_data.user;\n        var token = response_data.token;\n\n        if (userinfo && token) {\n          this.$message('登录成功，正在跳转', {\n            theme: \"normal\",\n            position: \"top-left\",\n            duration: 5000\n          });\n\n          this.$store.commit('login', {\n            'userinfo': userinfo,\n            'token': token\n          });\n          if (!this.referrer) {\n            this.referrer = '/'\n          }\n          console.log('this.referrer:', this.referrer);\n          this.$router.push(this.referrer);\n        }\n        this.submit_loading = false;\n\n      }).catch((error) => {\n        console.log('error:', error);\n        this.submit_loading = false;\n\n      });\n      return false;\n    }\n  }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=1b3146b8&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport {QInput} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QInput})\n\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}