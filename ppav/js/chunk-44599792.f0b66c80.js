(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44599792"],{5388:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loginh"},[s("div",{staticClass:"P-Login"},[t._m(0),s("div",{staticClass:"Panel"},[t._m(1),s("form",{staticClass:"AuthForm"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"Field"},[s("q-input",{attrs:{outlined:"",label:"请输入用户名/邮箱"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1)]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"Field"},[s("q-input",{attrs:{type:"password",outlined:"",label:"请输入密码"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"SubmitField"},[s("v-btn",{staticClass:"xyg w-100",attrs:{loading:t.submit_loading,color:"primary"},on:{click:t.on_submit}},[t._v("登录")])],1)]),t._m(2),t._m(3)])])]),s("div")])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Tip text-secondary"},[s("span",[t._v("男人的两大爱好，1.劝风尘女子从良，2.拉良家妇女下水")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"G-Title mb-3 mt-3"},[s("h3",[t._v("用户登录")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-3 text-center"},[t._v("您还不是会员，"),s("span",{staticClass:"text-primary G-CursorPointer"},[s("a",{attrs:{href:"/user/register"}},[t._v("立即注册")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-3 text-center"},[t._v("忘记密码？"),s("span",{staticClass:"text-primary G-CursorPointer"},[t._v("点此找回")])])}],n=(s("ac1f"),s("5319"),s("4b13"),{name:"login",data:function(){return{submit_loading:!1,user:{},referrer:""}},created:function(){if(this.$store.state.hasLogin)return this.$router.replace("/");window._t=this,document.referrer&&(this.referrer=document.referrer)},beforeRouteEnter:function(t,e,s){s((function(t){t.referrer=e.path}))},methods:{on_submit:function(){var t=this;if(!this.user.username||this.user.username.length<4)return this.$message("用户名过短,不少于4位",{theme:"error",position:"top-left",duration:5e3});if(!this.user.password||this.user.password.length<=6)return this.$message("密码过短，不能少于6位",{theme:"error",position:"top-left",duration:5e3});this.submit_loading=!0;var e=this.user;return e.referrer=this.referrer,this.$axios.post("/app/user/login",e).then((function(e){t.loading=!1;var s=e.data,r=s.user,i=s.token;t.$message("登录成功，正在跳转",{theme:"normal",position:"top-left",duration:5e3}),t.$store.commit("login",{userinfo:r,token:i}),t.referrer||(t.referrer="/"),t.$router.push(t.referrer)})).catch((function(e){t.submit_loading=!1})),!1}}}),a=n,o=(s("c47d"),s("2877")),u=s("fe09"),c=s("6544"),l=s.n(c),m=s("8336"),f=Object(o["a"])(a,r,i,!1,null,null,null);e["default"]=f.exports;f.options.components=Object.assign(Object.create(f.options.components||null),f.options.components||{},{QInput:u["r"]}),l()(f,{VBtn:m["a"]})},"5f34":function(t,e,s){},c47d:function(t,e,s){"use strict";var r=s("5f34"),i=s.n(r);i.a}}]);
//# sourceMappingURL=chunk-44599792.f0b66c80.js.map